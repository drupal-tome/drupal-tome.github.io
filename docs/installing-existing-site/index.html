<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
<link rel="canonical" href="https://tome.fyi/docs/installing-existing-site" />
<meta name="description" content="If you have an existing Drupal 8 site, installing Tome is fairly straightforward. This guide will take you through the process of installing Tome or Tome Static. Installing Tome Static If you want to keep your current Drupal hosting setup and just want to generate a static site, this guide is for you. First, you&#039;ll need to add  Tome as a dependency to your site and install Tome Static:" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:description" content="If you have an existing Drupal 8 site, installing Tome is fairly straightforward. This guide will take you through the process of installing Tome or Tome Static. Installing Tome Static If you want to keep your current Drupal hosting setup and just want to generate a static site, this guide is for you. First, you&#039;ll need to add  Tome as a dependency to your site and install Tome Static:" />
<meta name="twitter:title" content="Installing to an existing site" />
<meta name="twitter:creator" content="@DrupalSAM" />
<meta name="twitter:creator:id" content="@DrupalSAM" />
<meta name="Generator" content="Drupal 9 (https://www.drupal.org)" />
<meta name="MobileOptimized" content="width" />
<meta name="HandheldFriendly" content="true" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="icon" href="/themes/custom/tomefyi/favicon.ico" type="image/vnd.microsoft.icon" />
<link rel="prev" href="/docs/getting-started" />
<link rel="up" href="/docs" />
<link rel="next" href="/docs/upgrading-module-core-versions" />

    <title>Installing to an existing site | Tome</title>
    <link rel="stylesheet" media="all" href="/sites/default/files/css/css_1EkIbkGg3gp-voCDfRqzdJayimxX8z_h7S3w2GWqiJk.css" />
<link rel="stylesheet" media="all" href="/sites/default/files/css/css_pmAdrN__qVd_mE_lgdCDknMhhgAeEcYW2MILb4K_K08.css" />
<link rel="stylesheet" media="all" href="//fonts.googleapis.com/css?family=Montserrat:900i|Rubik" />
<link rel="stylesheet" media="all" href="/sites/default/files/css/css_bxU15wLegZoqaK-j4Y7tWjk-VWrIO1821OJn7glJbHY.css" />

    
  </head>
  <body class="path-node page-node-type-book">
        <a href="#main-content" class="visually-hidden focusable skip-link">
      Skip to main content
    </a>
    
      <div class="dialog-off-canvas-main-canvas" data-off-canvas-main-canvas>
    <div class="page page-node-book">

      <header>
        <div class="region region-header">
    <div id="block-headermenu" class="block block-block-content block-block-content5e7498fd-45bc-4b54-a65d-f0f091d2096e">
  
    
      
            <div class="clearfix text-formatted field field--name-body field--type-text-with-summary field--label-hidden field__item"><div class="header-menu">
<p><a href="https://drupal.org/project/tome">Source</a>&nbsp;• <a href="https://github.com/drupal-tome">Github</a> • <a href="/docs">Documentation</a>&nbsp;• <a href="https://bookish-drupal.netlify.app/">Demo</a></p>
</div>
</div>
      
  </div>
<div id="block-documentationtitle" class="block block-block-content block-block-content2db80bdd-cd46-41d9-b7b3-410644d9177f">
  
    
      
            <div class="clearfix text-formatted field field--name-body field--type-text-with-summary field--label-hidden field__item"><div class="documentation-title">
<h1><a href="/">Tome</a></h1>
</div>
</div>
      
  </div>

  </div>

    </header>
  
  <main role="main">
    <a id="main-content" tabindex="-1"></a>

          <aside class="sidebar" role="complementary">
          <div class="region region-sidebar">
    <div id="block-expandedbooknavigation" class="block block-tfyi-book block-expanded-book-navigation">
  
    
        <nav id="book-block-menu-1" class="book-block-menu" role="navigation" aria-label="Book outline for Documentation">
    
              <a class="burger" href="#">&#9776; Navigation</a>
      <ul  class="menu burger-menu">
                    <li class="menu-item menu-item--expanded">
        <a href="/docs" hreflang="en">Documentation</a>
                                <ul class="menu">
                    <li class="menu-item">
        <a href="/docs/getting-started" hreflang="en">Getting started</a>
              </li>
                <li class="menu-item">
        <a href="/docs/installing-existing-site" hreflang="en">Installing to an existing site</a>
              </li>
                <li class="menu-item">
        <a href="/docs/upgrading-module-core-versions" hreflang="en">Upgrading module/core versions</a>
              </li>
                <li class="menu-item">
        <a href="/docs/use-cases" hreflang="en">Use cases</a>
              </li>
                <li class="menu-item">
        <a href="/docs/using-the-command-line" hreflang="en">Using the command line</a>
              </li>
                <li class="menu-item">
        <a href="/docs/module-compatibility" hreflang="en">Module compatibility</a>
              </li>
                <li class="menu-item">
        <a href="/docs/multilingual" hreflang="en">Multilingual</a>
              </li>
                <li class="menu-item menu-item--expanded">
        <a href="/docs/technical" hreflang="en">Technical documentation</a>
                                <ul class="menu">
                    <li class="menu-item">
        <a href="/docs/technical/api" hreflang="en">API reference</a>
              </li>
                <li class="menu-item">
        <a href="/docs/technical/exporter" hreflang="en">Exporting</a>
              </li>
                <li class="menu-item">
        <a href="/docs/technical/importer" hreflang="en">Importing</a>
              </li>
                <li class="menu-item">
        <a href="/docs/technical/static" hreflang="en">Static site generation</a>
              </li>
                <li class="menu-item">
        <a href="/docs/site-settings" hreflang="en">Site specific settings</a>
              </li>
                <li class="menu-item">
        <a href="/docs/technical/docker" hreflang="en">Docker</a>
              </li>
        </ul>
  
              </li>
                <li class="menu-item menu-item--expanded">
        <a href="/docs/hosting" hreflang="en">Hosting guides</a>
                                <ul class="menu">
                    <li class="menu-item">
        <a href="/docs/hosting/github-pages" hreflang="en">Github pages</a>
              </li>
                <li class="menu-item">
        <a href="/docs/hosting/gitpod" hreflang="en">Gitpod</a>
              </li>
                <li class="menu-item">
        <a href="/docs/hosting/netlify" hreflang="en">Netlify</a>
              </li>
                <li class="menu-item">
        <a href="/docs/hosting/render" hreflang="en">Render</a>
              </li>
                <li class="menu-item">
        <a href="/docs/hosting/hosted-drupal-netlify" hreflang="en">Hosted Drupal + Netlify</a>
              </li>
                <li class="menu-item">
        <a href="/docs/hosting/hosted-drupal-rewrites" hreflang="en">Hosted Drupal + Rewrites</a>
              </li>
        </ul>
  
              </li>
                <li class="menu-item">
        <a href="/docs/sub-modules" hreflang="en">Using Tome Static and Tome Sync</a>
              </li>
                <li class="menu-item">
        <a href="/docs/faq" hreflang="en">FAQ</a>
              </li>
        </ul>
  
              </li>
        </ul>
  


  </nav>

  </div>

  </div>

      </aside>
    
    <div class="content">
        <div class="region region-content">
    <div data-drupal-messages-fallback class="hidden"></div><div id="block-tomefyi-page-title" class="block block-core block-page-title-block">
  
    
      
  <h1 class="page-title"><span class="field field--name-title field--type-string field--label-hidden">Installing to an existing site</span>
</h1>


  </div>
<div id="block-mainpagecontent" class="block block-system block-system-main-block">
  
    
      
<article role="article" class="node node--type-book node--view-mode-full">

  
    

  
  <div class="node__content">
    
            <div class="clearfix text-formatted field field--name-body field--type-text-with-summary field--label-hidden field__item"><p>If you have an existing Drupal 8 site, installing Tome is fairly straightforward. This guide will take you through the process of installing Tome or Tome Static.</p>

<h2>Installing Tome Static</h2>

<p>If you want to keep your current Drupal hosting setup and just want to generate a static site, this guide is for you.</p>

<p>First, you'll need to add&nbsp; Tome as a dependency to your site and install Tome Static:</p>

<pre>
<code class="language-bash">$ composer require drupal/tome
$ drush en tome_static -y</code></pre>

<p>You'll also need to have Drush 9 installed locally if you want to use the command line. This can be required like so:</p>

<pre>
<code class="language-bash">$ composer require drush/drush:^9</code></pre>

<p>Then, ensure that the Tome Static export directory is writeable. This defaults to "../html", which would be the "html" folder above your web root. If you want to change this directory, add a line like this to settings.php:</p>

<pre>
<code class="language-php">$settings['tome_static_directory'] = '../html';</code></pre>

<p>Now you're ready to generate static HTML. If you want to use the command line, you can run this command:</p>

<pre>
<code class="language-bash">$ drush tome:static --uri=http://mysite.com</code></pre>

<p>Where "mysite.com" is the domain of your production site. If you prefer to use the user interface, login as a user with the "use tome static" permission and submit the form at "/admin/config/tome/static/generate".</p>

<p>Once the static site is generated, you can upload the contents of your static export directory to your preferred hosting provider.</p>

<h2>Migrating to Tome</h2>

<p>If you want the full Tome experience, where content, config, and files are stored in Git, you can follow this guide. This may not be a fit for sites with many concurrent editors or if you want to stay with your traditional hosting provider for other reasons.</p>

<p>First, require Tome's dependencies and enable Tome:</p>

<pre>
<code class="language-bash">$ composer require drupal/tome drupal-tome/tome_drush drush/drush:^9
$ drush en tome -y
</code></pre>

<p>Then, ensure that the Tome Static export directory (defaults to "../html") and Tome Sync export directories (defaults to "../content" and "../files") are writeable. You'll also want to make sure your config sync directory is writeable and in a location that's tracked by Git. Here's what a settings.php file with all these configured looks like:</p>

<pre>
<code class="language-php">$settings['tome_files_directory'] = '../files';
$settings['tome_content_directory'] = '../content';
$settings['tome_static_directory'] = '../html';
$config_directories['sync'] = '../config';
</code></pre>

<p>Once that configuration is done, you will need to run an initial export. This could take a long time if you have a lot of entities on your site, so be patient:</p>

<pre>
<code class="language-bash">$ drush tome:export -y</code></pre>

<p>Now you can test that a fresh Tome install works correctly by running:</p>

<pre>
<code>$ drush tome:install -y</code></pre>

<p>If the process finishes successfully and your site looks right, then the migration worked! If not there could be an incompatibility&nbsp;with a custom or contrib module, or a bug in Tome. Please report bugs with replication steps if you find any.</p>

<p>At this point, you now have a Drupal site managed by Tome where all the configuration, content, and files on your site can be tracked in Git (assuming you add/commit the changes you just made). This means you can use Tome completely locally, without hosting Drupal anywhere. Alternatively you can spin up your site temporarily for editing, then spin it down when you're finished. Check out the "Render" hosting guide for a good example of this.</p>

<p>To generate static HTML at this point, you can run:</p>

<pre>
<code class="language-bash">$ drush tome:static --uri=http://mysite.com</code></pre>

<p>Where "mysite.com" is the domain of your production site. Make sure to check out the hosting guides for Github Pages, Render, and Netlify to see how a CI can automatically deploy your static site when you commit a content, config, or file change.</p>
</div>
      
  <nav id="book-navigation-1" class="book-navigation" role="navigation" aria-labelledby="book-label-1">
    
          <h2 class="visually-hidden" id="book-label-1">Book traversal links for Installing to an existing site</h2>
      <ul class="book-pager">
              <li class="book-pager__item book-pager__item--previous">
          <a href="/docs/getting-started" rel="prev" title="Go to previous page"><b>‹</b> Getting started</a>
        </li>
                    <li class="book-pager__item book-pager__item--center">
          <a href="/docs" title="Go to parent page">Up</a>
        </li>
                    <li class="book-pager__item book-pager__item--next">
          <a href="/docs/upgrading-module-core-versions" rel="next" title="Go to next page">Upgrading module/core versions <b>›</b></a>
        </li>
          </ul>
      </nav>

  </div>

</article>

  </div>

  </div>

    </div>
  </main>

  <footer>
      <div class="region region-footer">
    <div id="block-footerblock" class="block block-block-content block-block-content41a379f1-9578-43d6-9b62-977bfe857232">
  
    
      
            <div class="clearfix text-formatted field field--name-body field--type-text-with-summary field--label-hidden field__item"><p class="text-align-center"><a href="https://github.com/drupal-tome">Github</a>&nbsp;- <a href="https://www.drupal.org/project/tome">Drupal.org</a> - <a href="https://twitter.com/mortensonsam">Twitter</a>&nbsp;- <a href="https://drupalslack.herokuapp.com">Slack (#tome)</a></p>

<p class="text-align-center">Tome is in development and likely has some bugs. Please be patient and&nbsp;respectful when reporting issues!</p>

<p class="text-align-center">This site is built with Tome! <a href="https://github.com/drupal-tome/drupal-tome.github.io">Check it out and build it locally from Github</a>.</p>
</div>
      
  </div>

  </div>

  </footer>

</div>

  </div>

    
    <script type="application/json" data-drupal-selector="drupal-settings-json">{"path":{"baseUrl":"\/","scriptPath":null,"pathPrefix":"","currentPath":"node\/21","currentPathIsAdmin":false,"isFront":false,"currentLanguage":"en"},"pluralDelimiter":"\u0003","suppressDeprecationErrors":true,"user":{"uid":0,"permissionsHash":"4fa618fd0e9d6da729613bd526ef1a624ad21f06c35583be2a8d3c7f28c16caf"}}</script>
<script src="/sites/default/files/js/js_Kbbh7yC5kf-weSWDxBsiC6YIXh4PBazkCj3Jk3WBdMo.js"></script>

  </body>
</html>
