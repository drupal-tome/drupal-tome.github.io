<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
<link rel="canonical" href="https://tome.fyi/docs/hosting/render" />
<meta name="description" content="Render is a newer general purpose cloud that offers free static hosting and transparent prorated pricing for services, databases, and cron jobs. This hosting guide will show how you could use Render to edit content in a container, commit and push it with Git, and then host a static site." />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:description" content="Render is a newer general purpose cloud that offers free static hosting and transparent prorated pricing for services, databases, and cron jobs. This hosting guide will show how you could use Render to edit content in a container, commit and push it with Git, and then host a static site." />
<meta name="twitter:title" content="Render" />
<meta name="twitter:creator" content="@DrupalSAM" />
<meta name="twitter:creator:id" content="@DrupalSAM" />
<meta name="Generator" content="Drupal 9 (https://www.drupal.org)" />
<meta name="MobileOptimized" content="width" />
<meta name="HandheldFriendly" content="true" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="icon" href="/themes/custom/tomefyi/favicon.ico" type="image/vnd.microsoft.icon" />
<link rel="prev" href="/docs/hosting/netlify" />
<link rel="up" href="/docs/hosting" />
<link rel="next" href="/docs/hosting/hosted-drupal-netlify" />

    <title>Render | Tome</title>
    <link rel="stylesheet" media="all" href="/sites/default/files/css/css_1EkIbkGg3gp-voCDfRqzdJayimxX8z_h7S3w2GWqiJk.css" />
<link rel="stylesheet" media="all" href="/sites/default/files/css/css_pmAdrN__qVd_mE_lgdCDknMhhgAeEcYW2MILb4K_K08.css" />
<link rel="stylesheet" media="all" href="//fonts.googleapis.com/css?family=Montserrat:900i|Rubik" />
<link rel="stylesheet" media="all" href="/sites/default/files/css/css_bxU15wLegZoqaK-j4Y7tWjk-VWrIO1821OJn7glJbHY.css" />

    
  </head>
  <body class="path-node page-node-type-book">
        <a href="#main-content" class="visually-hidden focusable skip-link">
      Skip to main content
    </a>
    
      <div class="dialog-off-canvas-main-canvas" data-off-canvas-main-canvas>
    <div class="page page-node-book">

      <header>
        <div class="region region-header">
    <div id="block-headermenu" class="block block-block-content block-block-content5e7498fd-45bc-4b54-a65d-f0f091d2096e">
  
    
      
            <div class="clearfix text-formatted field field--name-body field--type-text-with-summary field--label-hidden field__item"><div class="header-menu">
<p><a href="https://drupal.org/project/tome">Source</a>&nbsp;• <a href="https://github.com/drupal-tome">Github</a> • <a href="/docs">Documentation</a>&nbsp;• <a href="https://bookish-drupal.netlify.app/">Demo</a></p>
</div>
</div>
      
  </div>
<div id="block-documentationtitle" class="block block-block-content block-block-content2db80bdd-cd46-41d9-b7b3-410644d9177f">
  
    
      
            <div class="clearfix text-formatted field field--name-body field--type-text-with-summary field--label-hidden field__item"><div class="documentation-title">
<h1><a href="/">Tome</a></h1>
</div>
</div>
      
  </div>

  </div>

    </header>
  
  <main role="main">
    <a id="main-content" tabindex="-1"></a>

          <aside class="sidebar" role="complementary">
          <div class="region region-sidebar">
    <div id="block-expandedbooknavigation" class="block block-tfyi-book block-expanded-book-navigation">
  
    
        <nav id="book-block-menu-1" class="book-block-menu" role="navigation" aria-label="Book outline for Documentation">
    
              <a class="burger" href="#">&#9776; Navigation</a>
      <ul  class="menu burger-menu">
                    <li class="menu-item menu-item--expanded">
        <a href="/docs" hreflang="en">Documentation</a>
                                <ul class="menu">
                    <li class="menu-item">
        <a href="/docs/getting-started" hreflang="en">Getting started</a>
              </li>
                <li class="menu-item">
        <a href="/docs/installing-existing-site" hreflang="en">Installing to an existing site</a>
              </li>
                <li class="menu-item">
        <a href="/node/23" hreflang="en">Upgrading module/core versions</a>
              </li>
                <li class="menu-item">
        <a href="/docs/use-cases" hreflang="en">Use cases</a>
              </li>
                <li class="menu-item">
        <a href="/docs/using-the-command-line" hreflang="en">Using the command line</a>
              </li>
                <li class="menu-item">
        <a href="/docs/module-compatibility" hreflang="en">Module compatibility</a>
              </li>
                <li class="menu-item">
        <a href="/docs/multilingual" hreflang="en">Multilingual</a>
              </li>
                <li class="menu-item menu-item--expanded">
        <a href="/docs/technical" hreflang="en">Technical documentation</a>
                                <ul class="menu">
                    <li class="menu-item">
        <a href="/docs/technical/api" hreflang="en">API reference</a>
              </li>
                <li class="menu-item">
        <a href="/docs/technical/exporter" hreflang="en">Exporting</a>
              </li>
                <li class="menu-item">
        <a href="/docs/technical/importer" hreflang="en">Importing</a>
              </li>
                <li class="menu-item">
        <a href="/docs/technical/static" hreflang="en">Static site generation</a>
              </li>
                <li class="menu-item">
        <a href="/docs/site-settings" hreflang="en">Site specific settings</a>
              </li>
                <li class="menu-item">
        <a href="/docs/technical/docker" hreflang="en">Docker</a>
              </li>
        </ul>
  
              </li>
                <li class="menu-item menu-item--expanded">
        <a href="/docs/hosting" hreflang="en">Hosting guides</a>
                                <ul class="menu">
                    <li class="menu-item">
        <a href="/docs/hosting/github-pages" hreflang="en">Github pages</a>
              </li>
                <li class="menu-item">
        <a href="/docs/hosting/gitpod" hreflang="en">Gitpod</a>
              </li>
                <li class="menu-item">
        <a href="/docs/hosting/netlify" hreflang="en">Netlify</a>
              </li>
                <li class="menu-item">
        <a href="/docs/hosting/render" hreflang="en">Render</a>
              </li>
                <li class="menu-item">
        <a href="/docs/hosting/hosted-drupal-netlify" hreflang="en">Hosted Drupal + Netlify</a>
              </li>
                <li class="menu-item">
        <a href="/docs/hosting/hosted-drupal-rewrites" hreflang="en">Hosted Drupal + Rewrites</a>
              </li>
        </ul>
  
              </li>
                <li class="menu-item">
        <a href="/docs/sub-modules" hreflang="en">Using Tome Static and Tome Sync</a>
              </li>
                <li class="menu-item">
        <a href="/docs/faq" hreflang="en">FAQ</a>
              </li>
        </ul>
  
              </li>
        </ul>
  


  </nav>

  </div>

  </div>

      </aside>
    
    <div class="content">
        <div class="region region-content">
    <div data-drupal-messages-fallback class="hidden"></div><div id="block-tomefyi-page-title" class="block block-core block-page-title-block">
  
    
      
  <h1 class="page-title"><span class="field field--name-title field--type-string field--label-hidden">Render</span>
</h1>


  </div>
<div id="block-mainpagecontent" class="block block-system block-system-main-block">
  
    
      
<article role="article" class="node node--type-book node--view-mode-full">

  
    

  
  <div class="node__content">
    
            <div class="clearfix text-formatted field field--name-body field--type-text-with-summary field--label-hidden field__item"><p><a href="https://render.com/">Render</a>&nbsp;is a newer general purpose cloud that offers free static hosting and&nbsp;transparent prorated pricing for services, databases, and cron jobs. This hosting guide will show how you could use Render to edit content in a container, commit and push it with Git, and then host a static site.</p>

<h2>Creating a Tome static site on Render</h2>

<ol>
	<li>Visit&nbsp;<a href="https://dashboard.render.com/services">https://dashboard.render.com/services</a>&nbsp;and create a new web service.</li>
	<li>Select a Tome site's repository</li>
	<li>For "Environment", select "Static Site"</li>
	<li>For "Build Command", enter something like:
	<pre>
<code class="language-bash">php -r "copy('https://getcomposer.org/installer', 'composer-setup.php');" &amp;&amp; php composer-setup.php &amp;&amp; php composer.phar install &amp;&amp; ./vendor/bin/drush tome:install -y &amp;&amp; ./vendor/bin/drush tome:static -l https://your-site.onrender.com</code></pre>

	<p>Where "your-site" is the name of your new Render service</p>
	</li>
	<li>
	<p>For "Publish directory", enter "html"</p>
	</li>
	<li>
	<p>Save the form</p>
	</li>
</ol>

<p>That should be it - now your repository will be checked out and your static site will be built. If you're not interested in editing content in Render you can stop reading now!</p>

<h2>Creating an editing service on Render</h2>

<p>Now we're going to create a service on Render that exists to be spun up, have Drupal content edited on it, then spun down so that you only pay for what you need. This is still new and experimental&nbsp;so make sure to read the notes at the bottom of the guide!</p>

<ol>
	<li>Copy this <a href="https://gist.github.com/mortenson/eb8b96cebfceea8595573ff68f1ce8d2">example Dockerfile</a>&nbsp;into the root of your repository</li>
	<li>Change the placeholders in the Dockerfile's "Set up Git" section to match your Git settings</li>
	<li>Commit and push the Dockerfile</li>
	<li>Install Tome Git on your Tome site (i.e. with "composer require drupal/tome_git &amp;&amp; drush en tome_git")</li>
	<li>Generate an SSH key on your computer for this service, do not use a password</li>
	<li>Add the new SSH public key to your repository and give it write access. The <a href="https://developer.github.com/v3/guides/managing-deploy-keys/#deploy-keys">documentation on Github</a> is good if you use Github</li>
	<li>Visit&nbsp;<a href="https://dashboard.render.com/services">https://dashboard.render.com/services</a>&nbsp;and create a new web service</li>
	<li>Select a Tome site's repository</li>
	<li>For "Environment", select "Docker"</li>
	<li>Save the form</li>
	<li>When your service is ready, go into its settings</li>
	<li>Disable&nbsp;"Auto Deploy"</li>
	<li>Go to the service's "Environment" settings</li>
	<li>Add a "Secret File" with the filename "tome_id_rsa" that has the contents of your SSH private key</li>
	<li>Add a "Secret File" with the filename "tome_pass" that has a password for the administrative user of this site. Alternatively, you could use something like SSO here to login, or allow SSH to your service so that you could use "drush uli"</li>
	<li>Trigger a manual deploy for your service</li>
	<li>Visit the URL for your service and login</li>
	<li>Make a change to content, config, or files</li>
	<li>Visit "/admin/config/tome/git" and click "Sync changes"</li>
	<li>Ensure that your edits were properly synced - the Tome Git&nbsp;module is still in development and could have bugs</li>
	<li>Go back to the settings for your service and suspend it</li>
	<li>See that your static service for this site is already rebuilding. Yay!</li>
</ol>

<p>This kind of functionality - being able to spin up containers on demand to make changes to content then completely spin them down - is really exciting and also really new for Drupal. Tome allows a kind of statelessness with Drupal that would otherwise not be possible.</p>

<p>However, there are some things to consider when using Render:</p>

<ul>
	<li>Your "editing" service's container is&nbsp;ephemeral, which means that any unpushed changes in the container will be lost when it's suspended. Tome Git is going to improve and make syncing easier, but if someone forgets to sync their changes and the container is suspended or restarted there's no getting that data back. Once Render gets a persistent filesystem offering you could checkout the repository there to prevent this, but then you wouldn't get all the advantages of prorating. I think this is less scary than it seems, but it's worth calling out.</li>
	<li>As an add-on to the previous note, when you resume a suspended container, it loses any writes that previously occurred. So if you edit/push changes, suspend, and resume, you'll also need to trigger a manual build so that the latest commit is used when building the container.</li>
	<li>Render's in-browser console does not allow writing to the container, so if Tome Git fails to push there's not a lot you can do to remedy that. A solution to this could be to allow SSH to your container so you can manually run Git commands if needed. Tome Git is also going to add options for handling merge conflicts in the future which should help too.</li>
</ul>

<p>If you end up using Render please blog about it! Thanks for making it through this relatively complex guide.</p>
</div>
      
  <nav id="book-navigation-1" class="book-navigation" role="navigation" aria-labelledby="book-label-1">
    
          <h2 class="visually-hidden" id="book-label-1">Book traversal links for Render</h2>
      <ul class="book-pager">
              <li class="book-pager__item book-pager__item--previous">
          <a href="/docs/hosting/netlify" rel="prev" title="Go to previous page"><b>‹</b> Netlify</a>
        </li>
                    <li class="book-pager__item book-pager__item--center">
          <a href="/docs/hosting" title="Go to parent page">Up</a>
        </li>
                    <li class="book-pager__item book-pager__item--next">
          <a href="/docs/hosting/hosted-drupal-netlify" rel="next" title="Go to next page">Hosted Drupal + Netlify <b>›</b></a>
        </li>
          </ul>
      </nav>

  </div>

</article>

  </div>

  </div>

    </div>
  </main>

  <footer>
      <div class="region region-footer">
    <div id="block-footerblock" class="block block-block-content block-block-content41a379f1-9578-43d6-9b62-977bfe857232">
  
    
      
            <div class="clearfix text-formatted field field--name-body field--type-text-with-summary field--label-hidden field__item"><p class="text-align-center"><a href="https://github.com/drupal-tome">Github</a>&nbsp;- <a href="https://www.drupal.org/project/tome">Drupal.org</a> - <a href="https://twitter.com/mortensonsam">Twitter</a>&nbsp;- <a href="https://drupalslack.herokuapp.com">Slack (#tome)</a></p>

<p class="text-align-center">Tome is in development and likely has some bugs. Please be patient and&nbsp;respectful when reporting issues!</p>

<p class="text-align-center">This site is built with Tome! <a href="https://github.com/drupal-tome/drupal-tome.github.io">Check it out and build it locally from Github</a>.</p>
</div>
      
  </div>

  </div>

  </footer>

</div>

  </div>

    
    <script type="application/json" data-drupal-selector="drupal-settings-json">{"path":{"baseUrl":"\/","scriptPath":null,"pathPrefix":"","currentPath":"node\/20","currentPathIsAdmin":false,"isFront":false,"currentLanguage":"en"},"pluralDelimiter":"\u0003","suppressDeprecationErrors":true,"user":{"uid":0,"permissionsHash":"b0e5f7c7487a44c4b3c3a724a2d8ffb05efbd41f912cf1fbe3e5da46c3649ecd"}}</script>
<script src="/sites/default/files/js/js_Kbbh7yC5kf-weSWDxBsiC6YIXh4PBazkCj3Jk3WBdMo.js"></script>

  </body>
</html>
